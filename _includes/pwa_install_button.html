<script>
    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
    // Prevent the default behaviour (which would be to show the install prompt automatically)
    e.preventDefault();
    
    // Stash the event so it can be triggered later.
    deferredPrompt = e;
    });

    document.querySelector('#installButton').addEventListener('click', () => {
    // Check if the deferred prompt isn't null, then show the prompt
    if (deferredPrompt) {
        deferredPrompt.prompt();
    
        // Wait for the user to make a choice 
        deferredPrompt.userChoice.then((choiceResult) => {
        // Log the choice to our console
        console.log(choiceResult.outcome);
        
        // We've used the prompt, and can't use it again, so set this to null
        deferredPrompt = null;
        });
    } else {
        // If the user clicks the button when they're not in a state to install, just show them a message saying they'll need to click the "install" button when ready.
        alert('You are unable to install the Kipukas web app at this time. This is probably our fault. We will work on fixing it. If you come back later and still experiance issues, please reach out and let us know.');
    }
    });
    
</script>
<div class="place-content-center">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
        alt="install pwa icon" id="installButton"
        class="h-14 w-14 stroke-2 fill-none stroke-kip-goldenrod hover:stroke-kip-red active:stroke-kip-drk-sienna">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" />
    </svg>
</div>

  