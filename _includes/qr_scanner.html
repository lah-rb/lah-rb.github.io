<!-- QR Scanner — Phase 2: HTMX + WASM driven
     UI state managed by /api/qr/status route (Rust WASM).
     Camera + ZXing decode managed by qr-camera.js + kipukas-worker.js.
     Alpine state (showScanner, showFlash, videoReady, noCamera, showQRModal)
     removed from default.html — now server-driven HTML fragments. -->

<!-- Container for HTMX-swapped scanner UI (privacy modal, camera, results) -->
<div id="qr-container"></div>

<!-- Button to toggle QR scanner -->
<button aria-label="Toggle QR Scanner"
        class="{{ include.buttonClass }}"
        onclick="window.kipukasLoadQR().then(function() { if (window.kipukasQR) window.kipukasQR.toggle(); })">
  <svg xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 128 128" alt="QR Scanner Toggle"
    {% unless page.landscape %}
      :class="'lg:fill-kip-goldenrod'"
    {% endunless %}
    class="{{ include.base_fill }}{{ include.svgClass }}">
    <path
      d="M306.692 182.753a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-16a2 2 0 0 0-2-2zm4 4h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2zM276.692 152.753a2.003 2.003 0 0 0-2 2v24a2.003 2.003 0 0 0 2 2h24a2.003 2.003 0 0 0 2-2v-24a2.003 2.003 0 0 0-2-2zm4 4h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2h-16a2 2 0 0 1-2-2v-16a2 2 0 0 1 2-2zm4 4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2zM306.692 152.753a2.003 2.003 0 0 0-2 2v24a2.003 2.003 0 0 0 2 2h24a2.003 2.003 0 0 0 2-2v-24a2.003 2.003 0 0 0-2-2zm4 4h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2h-16a2 2 0 0 1-2-2v-16a2 2 0 0 1 2-2zm4 4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2zM276.692 182.753a2.003 2.003 0 0 0-2 2v24a2.003 2.003 0 0 0 2 2h24a2.003 2.003 0 0 0 2-2v-24a2.003 2.003 0 0 0-2-2zm4 4h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2h-16a2 2 0 0 1-2-2v-16a2 2 0 0 1 2-2zm4 4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2z"
      transform="matrix(2.2069 0 0 2.2069 -606.216 -337.109)"/>
  </svg>
</button>
