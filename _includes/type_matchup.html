<script src="/assets/js-wasm/typing.js"></script>
<div x-data="{ showTypeMenu: false, outcome: '', atkClick:[], defClick:[] }" class="relative place-content-center">
    <button aria-label="Toggle Type Comparison" x-ref="typeButton">
        <svg @click="showTypeMenu = !showTypeMenu"
            class="{{ include.buttonClass }}" {{ include.classBinder }}
            viewBox="66.941444 -166.9827 33.866614 26.27061"
            xmlns="http://www.w3.org/2000/svg">
            <path d="m 83.715193,-166.88575 c -0.17963,0.0931 -0.174138,-0.001 -0.174138,2.99205 0,1.74609 0.01432,2.86239 0.03722,2.90294 0.02046,0.0362 0.09013,0.0867 0.154791,0.11204 0.137599,0.054 0.326863,-4.7e-4 0.389931,-0.11204 0.04105,-0.0727 0.05383,-5.67031 0.01318,-5.77069 -0.02567,-0.0634 -0.209924,-0.16737 -0.293294,-0.16552 -0.02766,6.9e-4 -0.08512,0.0192 -0.127689,0.0412 z"/>
            <path d="m 86.340653,-164.21699 c -0.06912,0.0356 -0.122794,0.11069 -0.162685,0.22769 -0.43855,1.28633 -1.185321,3.58859 -1.185321,3.6543 0,0.047 0.03609,0.12887 0.0802,0.18201 0.09994,0.12038 0.343193,0.13543 0.456322,0.0282 0.03968,-0.0376 0.136831,-0.26447 0.215883,-0.50416 0.07905,-0.23969 0.35802,-1.08141 0.619931,-1.8705 0.30981,-0.93339 0.469369,-1.46857 0.456647,-1.53164 -0.02314,-0.11471 -0.180494,-0.24256 -0.29598,-0.24049 -0.04502,7e-4 -0.12827,0.0254 -0.184999,0.0546 z"/>
            <path d="m 91.764266,-161.72031 c -0.232351,0.032 -2.978379,0.98556 -3.212517,1.11557 -0.221212,0.12284 -0.495596,0.41872 -0.620751,0.66939 -0.07485,0.14992 -0.118675,0.33041 -0.162592,0.66964 l -0.06012,0.46441 -0.874318,-0.003 -0.874319,-0.003 -0.260847,0.11708 c -0.824637,0.37013 -1.166115,1.30224 -0.764265,2.08618 0.108165,0.211 0.383669,0.49785 0.61879,0.64426 l 0.09674,0.0602 c -0.276019,0.11138 -0.619674,0.16904 -0.784906,0.37121 -0.15093,0.18467 -0.273736,0.43651 -0.301663,0.71665 -0.02336,0.23431 0.132984,0.56114 0.2323,0.76224 0.111857,0.22649 0.915102,0.55304 1.085739,0.6401 0.07409,0.0378 0.07218,0.0117 -0.06096,0.14555 -0.316918,0.31841 -0.437491,0.64599 -0.415238,1.12811 0.01348,0.29204 0.03331,0.37308 0.142872,0.58395 0.145263,0.27959 0.412349,0.55097 0.669421,0.68019 l 0.297093,0.0621 -0.162917,0.2835 c -0.295252,0.51379 -0.299301,0.84195 -0.04335,1.37635 0.114944,0.23999 0.300732,0.51076 0.540868,0.6346 0.416653,0.21487 0.326749,0.40191 3.028616,0.38284 2.57887,-0.0182 2.97971,-0.0389 3.995377,-0.20631 0.831012,-0.13697 1.295057,-0.27219 2.186407,-0.63711 0.15761,-0.0645 0.302615,-0.0953 0.451463,-0.0959 1.102972,-0.26994 0.610793,-0.9896 -0.63554,-0.49422 -0.132876,0.0528 -0.389612,0.15447 -0.570523,0.2259 -0.692567,0.27344 -1.84457,0.48316 -3.076449,0.56007 -0.584689,0.0365 -1.335063,0.0495 -1.335063,0.0232 0,-0.008 0.0566,-0.12744 0.125769,-0.26583 0.117167,-0.23441 0.125767,-0.27806 0.125767,-0.63856 0,-0.37198 -0.0055,-0.39749 -0.142498,-0.65999 -0.07837,-0.15018 -0.195406,-0.32105 -0.260081,-0.37972 l -0.117584,-0.10667 0.249063,-0.21625 c 0.543617,-0.47197 0.68972,-1.17236 0.375487,-1.79995 -0.06255,-0.12491 -0.173185,-0.2912 -0.245874,-0.36953 l -0.132157,-0.14243 0.225225,-0.2134 c 0.615906,-0.58358 0.647142,-1.45209 0.0762,-2.11857 -0.123197,-0.14381 -0.1304,-0.16379 -0.07049,-0.19555 0.140188,-0.0743 0.331014,-0.25832 0.449726,-0.43361 0.06791,-0.10028 0.130172,-0.18232 0.138357,-0.18232 0.0082,0 0.08707,0.13612 0.175302,0.3025 0.420928,0.79372 1.285168,1.75081 1.580965,1.75081 0.169475,0 0.325924,-0.14512 0.325924,-0.30233 0,-0.11265 -0.04049,-0.1664 -0.328115,-0.43558 -0.36258,-0.33933 -0.617065,-0.64694 -0.856263,-1.03501 -0.3321,-0.53879 -0.611967,-1.22465 -0.765242,-1.87538 -0.09264,-0.3933 -0.187951,-0.53166 -0.366233,-0.53166 -0.144013,0 -1.038877,0.33089 -1.127381,0.41687 -0.0463,0.045 -0.125247,0.23291 -0.186062,0.44291 -0.337453,1.1653 -0.90372,2.13943 -1.35709,2.33456 -0.173593,0.0747 -0.412328,0.089 -0.525791,0.0315 -0.103703,-0.0526 -0.152422,-0.15302 -0.194599,-0.40117 -0.05335,-0.31386 0.348308,-3.70391 0.464381,-3.91949 0.169173,-0.3142 0.295915,-0.37794 1.802192,-0.90627 0.766209,-0.26876 1.465434,-0.49932 1.553833,-0.51238 0.249033,-0.0368 0.569216,0.0673 0.774454,0.25174 0.09392,0.0844 1.019039,1.0362 2.055816,2.11511 l 1.885051,1.96165 0.176946,0.0109 c 0.199981,0.0123 3.719098,-0.24006 3.810498,-0.27329 0.0701,-0.0255 0.17238,-0.20108 0.17238,-0.29597 0,-0.0923 -0.10678,-0.22843 -0.20771,-0.26479 -0.0493,-0.0178 -0.768859,0.0205 -1.747161,0.0929 -0.914845,0.0677 -1.717626,0.12356 -1.783961,0.12417 -0.134293,0.001 0.04915,0.18277 -2.595787,-2.56907 -0.868537,-0.90364 -1.427719,-1.45589 -1.547004,-1.52781 -0.323539,-0.19509 -0.737575,-0.27952 -1.11555,-0.22749 z"/>
            <path d="m 87.194131,-158.20094 c 0.19366,2.3e-4 0.371249,0.0127 0.394636,0.0275 0.03441,0.0218 -0.05934,1.00145 -0.175925,1.83823 -0.0012,0.008 -0.276993,0.006 -0.613049,-0.005 -0.811159,-0.0267 -1.039525,-0.11674 -1.257312,-0.49589 -0.224708,-0.39119 -0.164592,-0.79889 0.163658,-1.10992 0.2411,-0.22844 0.457537,-0.29805 0.849484,-0.2732 0.157517,0.01 0.444845,0.0184 0.638508,0.0187 z"/>
            <path d="m 91.058038,-157.5441 c 0.20234,0.37851 0.105197,0.83093 -0.238215,1.10946 -0.148503,0.12044 -0.48163,0.24911 -0.528925,0.20429 -0.01099,-0.0104 0.03959,-0.15706 0.112409,-0.32589 0.135509,-0.31414 0.297654,-0.76986 0.374211,-1.05173 0.05763,-0.21218 0.143389,-0.19265 0.28052,0.0639 z"/>
            <path d="m 87.420476,-155.64717 c 0.01597,0.009 0.02919,0.0528 0.0294,0.097 6.99e-4,0.13388 0.174679,0.44484 0.327901,0.58584 0.495904,0.45633 1.474324,0.23298 1.974369,-0.45071 0.09568,-0.13082 0.124123,-0.14643 0.266323,-0.1461 0.206559,4.6e-4 0.520993,0.14057 0.655578,0.29212 0.166822,0.18785 0.228226,0.32836 0.2486,0.56885 0.02426,0.28628 -0.08605,0.54435 -0.320014,0.74869 -0.231625,0.2023 -0.464481,0.26148 -0.939009,0.23866 -0.206799,-0.01 -0.997703,-0.0418 -1.757564,-0.0707 -1.260645,-0.048 -1.396873,-0.0594 -1.556439,-0.1305 -0.198282,-0.0883 -0.816103,-0.26903 -0.896605,-0.45159 -0.03342,-0.0758 -0.178664,-0.23019 -0.172544,-0.3916 0.0056,-0.14772 0.159915,-0.30303 0.187674,-0.37316 0.11205,-0.28306 0.757541,-0.47031 1.065464,-0.54447 0.118196,-0.0285 0.827561,-0.006 0.886868,0.0277 z"/>
            <path d="m 90.089299,-153.04413 c 0.136427,0.0384 0.250377,0.10759 0.381078,0.23143 0.50995,0.48319 0.336931,1.259 -0.341093,1.52943 -0.127478,0.0508 -0.326069,0.0549 -1.634954,0.0334 -0.819418,-0.0135 -1.581637,-0.0416 -1.69382,-0.0625 -0.26825,-0.0501 -0.501411,-0.22101 -0.644665,-0.47266 -0.266144,-0.46753 -0.0551,-1.05761 0.461659,-1.29079 0.147111,-0.0664 0.232235,-0.0687 1.715985,-0.0465 1.214906,0.0182 1.604357,0.0355 1.75581,0.0781 z"/>
            <path d="m 89.926137,-150.51661 c 0.19648,0.0865 0.44491,0.32862 0.526176,0.51291 0.0778,0.17643 0.0679,0.55252 -0.01923,0.73045 -0.0956,0.19524 -0.293604,0.37942 -0.506938,0.47158 -0.165239,0.0714 -0.234453,0.0747 -1.354412,0.0653 -0.720791,-0.006 -1.237657,-0.0258 -1.327678,-0.0507 -0.188295,-0.0521 -0.470103,-0.28665 -0.578638,-0.48154 -0.110922,-0.19916 -0.117838,-0.60457 -0.01353,-0.79302 0.136024,-0.24576 0.371126,-0.43497 0.64258,-0.51715 0.05334,-0.0161 0.628115,-0.026 1.277264,-0.0219 1.106651,0.007 1.191136,0.0122 1.354412,0.0841 z"/>
            <path d="m 82.285738,-148.22719 c -0.06084,0.0242 -0.129272,0.0836 -0.152065,0.13182 -0.02279,0.0483 -0.315835,0.91522 -0.651207,1.92657 -0.568846,1.71543 -0.606254,1.84575 -0.557432,1.94199 0.10593,0.2088 0.375735,0.25343 0.526119,0.087 0.06929,-0.0767 1.286577,-3.70483 1.286812,-3.83537 1.93e-4,-0.10731 -0.133745,-0.25844 -0.247257,-0.279 -0.05189,-0.009 -0.144127,0.003 -0.20497,0.027 z"/>
            <path d="m 83.708049,-146.72468 c -0.0465,0.0178 -0.10309,0.0651 -0.125767,0.10526 -0.05405,0.0957 -0.05792,5.6997 -0.004,5.79515 0.02046,0.0362 0.09013,0.0867 0.154791,0.11203 0.1376,0.054 0.326863,-3.7e-4 0.389932,-0.11203 0.04105,-0.0727 0.05383,-5.67032 0.01318,-5.77069 -0.02597,-0.0641 -0.21154,-0.1681 -0.293294,-0.16432 -0.02766,10e-4 -0.08834,0.0168 -0.134834,0.0346 z"/>
            <path d="m 76.066528,-161.76814 c 0.23235,0.032 2.97838,0.98556 3.21252,1.11557 0.22121,0.12284 0.49559,0.41872 0.62075,0.66939 0.0749,0.14992 0.11867,0.33041 0.16259,0.66964 l 0.0601,0.46441 0.87432,-0.003 0.87432,-0.003 0.26084,0.11708 c 0.82464,0.37013 1.16612,1.30224 0.76427,2.08618 -0.10817,0.211 -0.38367,0.49785 -0.61879,0.64426 l -0.0967,0.0602 c 0.27602,0.11138 0.61967,0.16904 0.78491,0.37121 0.15093,0.18467 0.27373,0.43651 0.30166,0.71665 0.0234,0.23431 -0.13299,0.56114 -0.2323,0.76224 -0.11186,0.22649 -0.9151,0.55304 -1.08574,0.6401 -0.0741,0.0378 -0.0722,0.0117 0.061,0.14555 0.31692,0.31841 0.43749,0.64599 0.41524,1.12811 -0.0135,0.29204 -0.0333,0.37308 -0.14287,0.58395 -0.14527,0.27959 -0.41235,0.55097 -0.66943,0.68019 l -0.29709,0.0621 0.16292,0.2835 c 0.29525,0.51379 0.2993,0.84195 0.0434,1.37635 -0.11495,0.23999 -0.30073,0.51076 -0.54087,0.6346 -0.41665,0.21487 -0.32675,0.40191 -3.02862,0.38284 -2.57887,-0.0182 -2.97971,-0.0389 -3.99538,-0.20631 -0.83101,-0.13697 -1.29505,-0.27219 -2.1864,-0.63711 -0.15761,-0.0645 -0.30262,-0.0953 -0.45147,-0.0959 -1.10297,-0.26994 -0.61079,-0.9896 0.63554,-0.49422 0.13288,0.0528 0.38962,0.15447 0.57053,0.2259 0.69256,0.27344 1.84457,0.48316 3.07645,0.56007 0.58469,0.0365 1.33506,0.0495 1.33506,0.0232 0,-0.008 -0.0566,-0.12744 -0.12577,-0.26583 -0.11717,-0.23441 -0.12577,-0.27806 -0.12577,-0.63856 0,-0.37198 0.005,-0.39749 0.1425,-0.65999 0.0784,-0.15018 0.19541,-0.32105 0.26008,-0.37972 l 0.11759,-0.10667 -0.24907,-0.21625 c -0.54361,-0.47197 -0.68972,-1.17236 -0.37548,-1.79995 0.0626,-0.12491 0.17318,-0.2912 0.24587,-0.36953 l 0.13216,-0.14243 -0.22523,-0.2134 c -0.6159,-0.58358 -0.64714,-1.45209 -0.0762,-2.11857 0.1232,-0.14381 0.1304,-0.16379 0.0705,-0.19555 -0.14019,-0.0743 -0.33101,-0.25832 -0.44972,-0.43361 -0.0679,-0.10028 -0.13018,-0.18232 -0.13836,-0.18232 -0.008,0 -0.0871,0.13612 -0.1753,0.3025 -0.42093,0.79372 -1.28517,1.75081 -1.58097,1.75081 -0.16947,0 -0.32592,-0.14512 -0.32592,-0.30233 0,-0.11265 0.0405,-0.1664 0.32811,-0.43558 0.36258,-0.33933 0.61707,-0.64694 0.85627,-1.03501 0.3321,-0.53879 0.61196,-1.22465 0.76524,-1.87538 0.0926,-0.3933 0.18795,-0.53166 0.36623,-0.53166 0.14401,0 1.03888,0.33089 1.12738,0.41687 0.0463,0.045 0.12525,0.23291 0.18606,0.44291 0.33746,1.1653 0.90372,2.13943 1.35709,2.33456 0.1736,0.0747 0.41233,0.089 0.5258,0.0315 0.1037,-0.0526 0.15242,-0.15302 0.19459,-0.40117 0.0533,-0.31386 -0.3483,-3.70391 -0.46438,-3.91949 -0.16917,-0.3142 -0.29591,-0.37794 -1.80219,-0.90627 -0.76621,-0.26876 -1.46543,-0.49932 -1.55383,-0.51238 -0.24903,-0.0368 -0.56922,0.0673 -0.77446,0.25174 -0.0939,0.0844 -1.01903,1.0362 -2.05581,2.11511 l -1.88505,1.96165 -0.17695,0.0109 c -0.19998,0.0123 -3.719097,-0.24006 -3.810497,-0.27329 -0.0701,-0.0255 -0.17238,-0.20108 -0.17238,-0.29597 0,-0.0923 0.10678,-0.22843 0.20771,-0.26479 0.0493,-0.0178 0.76886,0.0205 1.74716,0.0929 0.91485,0.0677 1.717627,0.12356 1.783967,0.12417 0.13429,0.001 -0.0491,0.18277 2.59578,-2.56907 0.86854,-0.90364 1.42772,-1.45589 1.54701,-1.52781 0.32354,-0.19509 0.73757,-0.27952 1.11555,-0.22749 z"/>
            <path d="m 80.636668,-158.24877 c -0.19366,2.3e-4 -0.37125,0.0127 -0.39464,0.0275 -0.0344,0.0218 0.0593,1.00145 0.17592,1.83823 0.001,0.008 0.277,0.006 0.61305,-0.005 0.81116,-0.0267 1.03953,-0.11674 1.25732,-0.49589 0.2247,-0.39119 0.16459,-0.79889 -0.16366,-1.10992 -0.2411,-0.22844 -0.45754,-0.29805 -0.84949,-0.2732 -0.15751,0.01 -0.44484,0.0184 -0.6385,0.0187 z"/>
            <path d="m 76.772758,-157.59193 c -0.20234,0.37851 -0.1052,0.83093 0.23821,1.10946 0.1485,0.12044 0.48163,0.24911 0.52893,0.20429 0.011,-0.0104 -0.0396,-0.15706 -0.11241,-0.32589 -0.13551,-0.31414 -0.29766,-0.76986 -0.37421,-1.05173 -0.0576,-0.21218 -0.14339,-0.19265 -0.28052,0.0639 z"/>
            <path d="m 80.410318,-155.695 c -0.016,0.009 -0.0292,0.0528 -0.0294,0.097 -7e-4,0.13388 -0.17468,0.44484 -0.3279,0.58584 -0.49591,0.45633 -1.47433,0.23298 -1.97437,-0.45071 -0.0957,-0.13082 -0.12412,-0.14643 -0.26632,-0.1461 -0.20656,4.6e-4 -0.521,0.14057 -0.65558,0.29212 -0.16682,0.18785 -0.22823,0.32836 -0.2486,0.56885 -0.0243,0.28628 0.0861,0.54435 0.32001,0.74869 0.23163,0.2023 0.46448,0.26148 0.93901,0.23866 0.2068,-0.01 0.9977,-0.0418 1.75756,-0.0707 1.26065,-0.048 1.39688,-0.0594 1.55645,-0.1305 0.19828,-0.0883 0.8161,-0.26903 0.8966,-0.45159 0.0334,-0.0758 0.17866,-0.23019 0.17254,-0.3916 -0.006,-0.14772 -0.15991,-0.30303 -0.18767,-0.37316 -0.11205,-0.28306 -0.75754,-0.47031 -1.06546,-0.54447 -0.1182,-0.0285 -0.82756,-0.006 -0.88687,0.0277 z"/>
            <path d="m 77.741498,-153.09196 c -0.13643,0.0384 -0.25038,0.10759 -0.38108,0.23143 -0.50995,0.48319 -0.33693,1.259 0.34109,1.52943 0.12748,0.0508 0.32607,0.0549 1.63495,0.0334 0.81942,-0.0135 1.58164,-0.0416 1.69383,-0.0625 0.26825,-0.0501 0.50141,-0.22101 0.64466,-0.47266 0.26615,-0.46753 0.0551,-1.05761 -0.46166,-1.29079 -0.14711,-0.0664 -0.23223,-0.0687 -1.71598,-0.0465 -1.21491,0.0182 -1.60436,0.0355 -1.75581,0.0781 z"/>
            <path d="m 77.904658,-150.56444 c -0.19648,0.0865 -0.44491,0.32862 -0.52618,0.51291 -0.0778,0.17643 -0.0679,0.55252 0.0192,0.73045 0.0956,0.19524 0.2936,0.37942 0.50694,0.47158 0.16524,0.0714 0.23445,0.0747 1.35441,0.0653 0.72079,-0.006 1.23766,-0.0258 1.32768,-0.0507 0.1883,-0.0521 0.4701,-0.28665 0.57864,-0.48154 0.11092,-0.19916 0.11784,-0.60457 0.0135,-0.79302 -0.13602,-0.24576 -0.37113,-0.43497 -0.64258,-0.51715 -0.0533,-0.0161 -0.62812,-0.026 -1.27727,-0.0219 -1.10665,0.007 -1.19113,0.0122 -1.35441,0.0841 z"/>
        </svg>
    </button>
    <div x-show="showTypeMenu"
        x-anchor.bottom-end="$refs.typeButton"
        x-transition.duration.350ms
        x-data="{ outcome: '' }"
        class="{{ include.menuClass }}">
        <div>
          <span>Attacker:</span>
          {% for type in site.data.types.Archetypes %}
            <div x-data="{ checked: false }"><input type="checkbox" :checked="checked" class="{{ site.data.templates.checkbox }}" :disabled="atkClick.length == 3 && !checked" name="attacker" id="{{ type | append: 'Atk' }}"    @click="checked = !checked, atkClick.includes('{{ type }}') ? atkClick = atkClick.filter((atk) => atk !== '{{ type }}') : atkClick.push('{{ type }}'), outcome = typeMatchup(atkClick, defClick)"><label for="{{ type | append: 'Atk' }}">{{ type }}</label></div>
          {% endfor %}
        </div>
        <div>
          <span>Defender:</span>
          {% for type in site.data.types.Archetypes %}
            <div x-data="{ checked: false }"><input type="checkbox" :checked="checked" class="{{ site.data.templates.checkbox }}" :disabled="defClick.length == 3 && !checked" name="defender" id="{{ type | append: 'Def' }}"    @click="checked = !checked, defClick.includes('{{ type }}') ? defClick = defClick.filter((def) => def !== '{{ type }}') : defClick.push('{{ type }}'), outcome = typeMatchup(atkClick, defClick)"><label for="{{ type | append: 'Def' }}">{{ type }}</label></div>
          {% endfor %}
        </div>
        <div>
          <span><strong>Attack Die Modifier:</strong></span>
          <span x-text="outcome" class="place-self-center"></span>
        </div>
    </div>

</div>